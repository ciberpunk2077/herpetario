{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
    .form-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        border: 1px solid #e9ecef;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .form-input {
        border: 2px solid #e9ecef;
        transition: all 0.3s ease;
    }
    .form-input:focus {
        border-color: #2A9D8F;
        box-shadow: 0 0 0 3px rgba(42, 157, 143, 0.1);
    }
    .form-select {
        border: 2px solid #e9ecef;
        transition: all 0.3s ease;
    }
    .form-select:focus {
        border-color: #2A9D8F;
        box-shadow: 0 0 0 3px rgba(42, 157, 143, 0.1);
    }
    .checkbox-custom {
        width: 20px;
        height: 20px;
        accent-color: #2A9D8F;
    }
</style>

<div class="min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-8">
    <div class="container mx-auto px-4">
        <!-- Header Section -->
        <div class="text-center mb-8">
            <div class="inline-flex items-center space-x-3 mb-4">
                <svg class="w-12 h-12 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                </svg>
                <h1 class="text-4xl font-bold text-secondary">
                    {% if edit %}
                        ‚úèÔ∏è Editar Serpiente
                    {% else %}
                        üêç Nueva Serpiente
                    {% endif %}
                </h1>
            </div>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                {% if edit %}
                    Modifica la informaci√≥n de la serpiente seleccionada
                {% else %}
                    Agrega una nueva serpiente al cat√°logo del herpetario
                {% endif %}
            </p>
        </div>

        <!-- Form Card -->
        <div class="max-w-4xl mx-auto">
            <div class="form-card rounded-xl p-8">
                <form method="post" class="space-y-6">
                    {% csrf_token %}
                    
                    <!-- Row 1: G√©nero y Nombre de Especie -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="{{ form.genero.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
                                <span class="text-red-500">*</span> G√©nero
                            </label>
                            <select name="genero" id="{{ form.genero.id_for_label }}" class="form-select w-full px-4 py-3 rounded-lg" required>
                                <option value="">Selecciona un g√©nero</option>
                                {% for choice in form.genero.field.choices %}
                                    <option value="{{ choice.0 }}" {% if form.genero.value == choice.0 %}selected{% endif %}>
                                        {{ choice.1 }}
                                    </option>
                                {% endfor %}
                            </select>
                            {% if form.genero.errors %}
                                <div class="mt-2 text-red-600 text-sm">
                                    {{ form.genero.errors.0 }}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label for="{{ form.nombre_especie.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
                                <span class="text-red-500">*</span> Nombre de Especie
                            </label>
                            <input type="text" name="nombre_especie" id="{{ form.nombre_especie.id_for_label }}" 
                                   value="{{ form.nombre_especie.value|default:'' }}"
                                   class="form-input w-full px-4 py-3 rounded-lg" 
                                   placeholder="Ej: durissus, asper, triangulum" required>
                            {% if form.nombre_especie.errors %}
                                <div class="mt-2 text-red-600 text-sm">
                                    {{ form.nombre_especie.errors.0 }}
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Row 2: Nombre Com√∫n y Subtipo -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="{{ form.nombre_comun.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
                                Nombre Com√∫n
                            </label>
                            <input type="text" name="nombre_comun" id="{{ form.nombre_comun.id_for_label }}" 
                                   value="{{ form.nombre_comun.value|default:'' }}"
                                   class="form-input w-full px-4 py-3 rounded-lg" 
                                   placeholder="Ej: Cascabel tropical, Terciopelo">
                            {% if form.nombre_comun.errors %}
                                <div class="mt-2 text-red-600 text-sm">
                                    {{ form.nombre_comun.errors.0 }}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label for="{{ form.subtipo.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
                                Subtipo
                            </label>
                            <select name="subtipo" id="{{ form.subtipo.id_for_label }}" class="form-select w-full px-4 py-3 rounded-lg">
                                <option value="">Selecciona un subtipo</option>
                                <option value="Venenosa" {% if form.subtipo.value == 'Venenosa' %}selected{% endif %}>‚ò†Ô∏è Venenosa</option>
                                <option value="Constrictora" {% if form.subtipo.value == 'Constrictora' %}selected{% endif %}>üêç Constrictora</option>
                                <option value="No venenosa" {% if form.subtipo.value == 'No venenosa' %}selected{% endif %}>üü¢ No venenosa</option>
                            </select>
                            {% if form.subtipo.errors %}
                                <div class="mt-2 text-red-600 text-sm">
                                    {{ form.subtipo.errors.0 }}
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Row 3: H√°bitat y Peligro de Extinci√≥n -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="{{ form.habitat.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
                                H√°bitat
                            </label>
                            <input type="text" name="habitat" id="{{ form.habitat.id_for_label }}" 
                                   value="{{ form.habitat.value|default:'' }}"
                                   class="form-input w-full px-4 py-3 rounded-lg" 
                                   placeholder="Ej: Bosques tropicales, Sabanas">
                            {% if form.habitat.errors %}
                                <div class="mt-2 text-red-600 text-sm">
                                    {{ form.habitat.errors.0 }}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">
                                Estado de Conservaci√≥n
                            </label>
                            <div class="flex items-center space-x-3 p-4 bg-gray-50 rounded-lg">
                                <input type="checkbox" name="peligro_extincion" id="{{ form.peligro_extincion.id_for_label }}" 
                                       class="checkbox-custom" 
                                       {% if form.peligro_extincion.value %}checked{% endif %}>
                                <label for="{{ form.peligro_extincion.id_for_label }}" class="text-gray-700">
                                    <span class="font-medium">En peligro de extinci√≥n</span>
                                    <p class="text-sm text-gray-500">Marcar si la especie est√° amenazada</p>
                                </label>
                            </div>
                            {% if form.peligro_extincion.errors %}
                                <div class="mt-2 text-red-600 text-sm">
                                    {{ form.peligro_extincion.errors.0 }}
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
                        <button type="submit" class="flex-1 bg-primary hover:bg-teal-700 text-white py-3 px-6 rounded-lg font-semibold transition duration-300 flex items-center justify-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                            <span>
                                {% if edit %}
                                    Actualizar Serpiente
                                {% else %}
                                    Crear Serpiente
                                {% endif %}
                            </span>
                        </button>
                        <a href="{% url 'catalogo:serpiente-list' %}" 
                           class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-semibold transition duration-300 flex items-center justify-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                            <span>Cancelar</span>
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %} 